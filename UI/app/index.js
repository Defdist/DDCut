!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=37)}([,,function(e,t){e.exports=require("electron")},,function(e,t){e.exports=require("path")},,,,function(e,t,n){(function(e){const t=n(4).resolve(__dirname,"Backend","ddcut.node");try{global.process.dlopen(e,t)}catch(e){throw new Error("Cannot open "+t+": "+e)}}).call(this,n(19)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8),o=n(2),r=n(20),a=n(22),l=n(25),u=n(27),s=n(28),c=n(29),d=n(30),f=n(31),p=global;var g=null,b=0,h="Dashboard";function S(){if(null!=g){let e=i.GetGhostGunnerStatus();e!=b&&(b=e,g.webContents.send("DD_UpdateGGStatus",e))}}var m=null;t.default=class{static Initialize(){i.Initialize(function(){r.default.Initialize(),a.default.Initialize(),l.default.Initialize(),u.default.Initialize(),s.default.Initialize(),c.default.Initialize(),d.default.Initialize(),f.default.Initialize(),o.ipcMain.on("DD_SetCurrentPage",function(e,t){h=t}),o.ipcMain.on("DD_GetCurrentPage",function(e){e.returnValue=h}),m=setInterval(S,50),p.initialized=!0})}static SetWindow(e){g=e}static Shutdown(){clearInterval(m),i.Shutdown()}static SetMillingStatus(e){null!=g&&g.webContents.send("Milling::Status",e)}}},,,,function(e){e.exports={name:"production",description:"Add here any environment specific stuff you like."}},,,,,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(8),o=n(2),r=n(21),a=function(){function e(){}return e.Initialize=function(){o.ipcMain.on("Settings::GetSettings",function(e){var t=i.GetSettings(),n=t.pauseAfterGCode,o=t.timeout,a=t.enable_slider,l=t.maxFeedRate;e.returnValue=new r.default(n,o,a,l)}),o.ipcMain.on("Settings::UpdateSettings",function(e,t,n,o,a){var l=new r.default(t,n,o,a);i.UpdateSettings(l)}),o.ipcMain.on("Settings::GetFeedRate",function(e){e.returnValue=i.GetFeedRate()}),o.ipcMain.on("Settings::SetFeedRate",function(e,t){i.SetFeedRate(t)})},e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t,n,i){this.pauseAfterGCode=e,this.timeout=t,this.enable_slider=n,this.maxFeedRate=i}return Object.defineProperty(e.prototype,"getPauseAfterGCode",{get:function(){return this.pauseAfterGCode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getTimeout",{get:function(){return this.timeout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getEnableSlider",{get:function(){return this.enable_slider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getMaxFeedRate",{get:function(){return this.maxFeedRate},enumerable:!0,configurable:!0}),e}();t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var i=n(8),o=n(2),r=n(23),a=n(24),l=function(){function e(){}return e.Initialize=function(){o.ipcMain.on("Firmware::GetAvailableFirmwareUpdates",function(e){i.GetAvailableFirmwareUpdates(function(t){var n=[];console.log(t);for(var i=0;i<t.length;i++){var o=t[i].version,a=t[i].description,l=t[i].files,u=new r.default(o,a,l);n.push(u)}e.sender.send("Firmware::UpdatesAvailable",n)})}),o.ipcMain.on("Firmware::GetFirmwareUploadStatus",function(e){e.returnValue=i.GetFirmwareUploadStatus()}),o.ipcMain.on("Firmware::GetFirmwareVersion",function(e){var t=i.GetFirmwareVersion(),n=t.grblVersion,o=t.ddVersion;e.returnValue=new a.default(n,o)}),o.ipcMain.on("Firmware::UploadFirmware",function(e,t,n,o){var a=new r.default(t,n,o);e.returnValue=i.UploadFirmware(a)})},e}();t.default=l},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t,n){this.version=e,this.description=t,this.files=n}return Object.defineProperty(e.prototype,"getVersion",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getDescription",{get:function(){return this.description},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getFiles",{get:function(){return this.files},enumerable:!0,configurable:!0}),e}();t.default=i},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){this.grblVersion=e,this.ddVersion=t}return Object.defineProperty(e.prototype,"getGRBLVersion",{get:function(){return this.grblVersion},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getDDVersion",{get:function(){return this.ddVersion},enumerable:!0,configurable:!0}),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8),o=n(2),r=n(4),a=n(26);t.default=class{static Initialize(){let e=r.dirname(process.execPath);o.ipcMain.on("File::OpenFileDialog",function(t){o.dialog.showOpenDialog({defaultPath:r.join(e,"Cutting Code"),properties:["openFile","treatPackageAsDirectory"],filters:[{name:"DD Files",extensions:["dd"]}]},function(e){e&&(i.SetDDFile(e[0]),1==i.SetDDFile(e[0])?t.sender.send("ShowJobSelection",i.GetJobs()):t.sender.send("InvalidDDFile",e[0]))})}),o.ipcMain.on("File::ReadFile",function(e,t){console.log("Reading file: "+t),a.readFile(t,"utf-8",function(t,n){e.sender.send("File::FileOpened",n)})})}}},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8),o=n(2);t.default=class{static Initialize(){o.ipcMain.on("Ghost::GetAvailableGhosts",function(e){var t=i.GetAvailableGhostGunners();e.returnValue=t}),o.ipcMain.on("Ghost::ChooseGhost",function(e,t,n){i.SelectGhostGunner(t,n)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8),o=n(2),r=n(9);class a{static Initialize(){o.ipcMain.on("Jobs::SelectJob",function(e,t){1==i.SetSelectedJob(t)?e.sender.send("Jobs::JobSelected"):e.sender.send("Jobs::JobSelectionFailed")}),o.ipcMain.on("Jobs::GetSteps",function(e){e.returnValue=i.GetAllSteps()}),o.ipcMain.on("Jobs::GetStep",function(e,t){e.returnValue=i.GetStep(t)}),o.ipcMain.on("Jobs::StartMilling",function(e,t){a.milling=!0,r.default.SetMillingStatus(!0),i.StartMilling(t)}),o.ipcMain.on("Jobs::GetProgress",function(e,t){e.sender.send("Jobs::ReadWrites",i.GetReadWrites());let n=i.GetMillingStatus(t);(100==n.percentage||n.percentage<0)&&(r.default.SetMillingStatus(!1),a.milling=!1),e.returnValue=n}),o.ipcMain.on("Jobs::EmergencyStop",function(e,t){e.returnValue=i.EmergencyStop(),r.default.SetMillingStatus(!1)})}}t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8),o=n(2);t.default=class{static Initialize(){o.ipcMain.on("Logs::GetLogFile",function(e){e.returnValue=i.GetLogPath()})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8),o=n(2);t.default=class{static Initialize(){o.ipcMain.on("Support::SendRequest",function(e,t,n,o){console.log("Email: "+t),console.log("Description: "+n),console.log("IncludeLogs: "+o),i.SendCustomerSupportRequest(t,n,o,t=>{console.log(t),e.returnValue=t})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8),o=n(2);t.default=class{static Initialize(){o.ipcMain.on("Walkthrough::ShouldDisplay",function(e,t){e.returnValue=i.ShouldShowWalkthrough(t)}),o.ipcMain.on("Walkthrough::SetShowWalkthrough",function(e,t,n){e.returnValue=i.SetShowWalkthrough(t,n)})}}},function(e,t){e.exports=require("electron-updater")},function(e,t){e.exports=require("electron-log")},function(e,t){e.exports=require("electron-unhandled")},,,function(e,t,n){"use strict";n.r(t);var i=n(2),o=n(9),r=n.n(o);const{dialog:a}=n(2),{autoUpdater:l}=n(32),u=n(33);l.on("error",e=>{}),l.on("update-available",e=>{let t="Version: "+e.releaseName;a.showMessageBox({type:"info",title:"Update Available",message:"A new version of DDCut is available. Would you like to update now?\n\n"+t,buttons:["Yes","No"]},e=>{0===e&&l.downloadUpdate()})}),l.on("update-not-available",()=>{}),l.on("update-downloaded",()=>{l.quitAndInstall()});var s={checkForUpdates:function(){u.transports.file.level="debug",l.logger=u,l.autoDownload=!1,l.checkForUpdates()}},c=n(13);let d;n(34)({logger:console.log,showDialog:!1});const f=async()=>{d=new i.BrowserWindow({width:1205,height:705,frame:!1,webPreferences:{nodeIntegration:!0}}),r.a.Initialize(),d.webContents.once("dom-ready",()=>{console.log("Finished loading"),r.a.SetWindow(d),s.checkForUpdates()}),d.loadURL(`file://${__dirname}/index.html`),"development"==c.name&&d.webContents.openDevTools({mode:"undocked"}),d.on("closed",()=>{console.log("closed"),d=null})};i.app.requestSingleInstanceLock()?(i.app.on("second-instance",(e,t,n)=>{d&&d.isMinimized()&&(d.restore(),d.focus())}),i.app.on("ready",f)):i.app.quit(),i.app.on("window-all-closed",()=>{console.log("window-all-closed"),"darwin"!==process.platform&&setTimeout(()=>{r.a.SetWindow(null),r.a.Shutdown(),console.log("app.quit"),i.app.quit()},0)}),i.app.on("before-quit",e=>{console.log("before-quit")}),i.app.on("will-quit",e=>{console.log("will-quit")}),i.app.on("quit",e=>{console.log("quit"),i.app.removeAllListeners()}),i.app.on("activate",()=>{null===d&&f()})}]);
//# sourceMappingURL=index.js.map